{namespace n=GeorgRinger\News\ViewHelpers}{namespace ns=Int\NewsSlideit\ViewHelpers}<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"
	 xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<atom:link href="{currentUrl -> f:format.htmlspecialchars()}" rel="self" type="application/rss+xml" />

		<title>{rssTitle -> f:format.htmlspecialchars()}</title>

		<link>{f:uri.page(pageUid:'{contentObjectData.pid}', absolute: 'true')}</link>

		<description>{settings.list.rss.channel.description -> f:format.htmlspecialchars()}</description>

		<language>{language}</language>

		<f:if condition="{settings.list.rss.channel.copyright}">
			<copyright>{settings.list.rss.channel.copyright -> f:format.htmlspecialchars()}</copyright>
		</f:if>

		<lastBuildDate><n:format.date format="r" currentDate="1" strftime="0"/></lastBuildDate>

		<f:if condition="{news}">

			<pubDate><f:format.date date="{news.0.datetime}" format="r" /></pubDate>

			<f:for each="{news}" as="newsItem">
				<item>
					<guid isPermaLink="false">news-{newsItem.uniqueId}</guid>

					<pubDate><f:format.date format="r">{newsItem.datetime}</f:format.date></pubDate>

					<title>{newsItem.title -> f:format.htmlspecialchars()}</title>

					<link><f:format.htmlspecialchars><n:link newsItem="{newsItem}" settings="{settings}" uriOnly="1" configuration="{forceAbsoluteUrl: '1'}"/></f:format.htmlspecialchars></link>

					<description><f:format.htmlspecialchars><f:render partial="Slider/SliderTeaser" arguments="{_all}" /></f:format.htmlspecialchars></description>

					<content:encoded><f:format.cdata>
						<f:cObject typoscriptObjectPath="lib.tx_news.contentElementRenderingTeaser" data="{newsUid: newsItem.uidLocalized, newsPid: newsItem.pid}" />
						<f:cObject typoscriptObjectPath="lib.tx_news.contentElementRendering" data="{newsUid: newsItem.uidLocalized, newsPid: newsItem.pid}" />
					</f:format.cdata></content:encoded>

					<f:if condition="{newsItem.sliderImageFromContent}">
						<enclosure length="{newsItem.sliderImageFromContent.size}"
							type="{newsItem.sliderImageFromContent.mimeType}"
							url="{ns:locationHeaderUrl(path: '{newsItem.sliderImageFromContent.publicUrl}')}" />
					</f:if>
				</item>
			</f:for>
		</f:if>
	</channel>
</rss>
